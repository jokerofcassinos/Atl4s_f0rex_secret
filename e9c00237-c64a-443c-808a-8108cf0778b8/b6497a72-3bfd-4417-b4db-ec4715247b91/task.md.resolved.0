# Atl4s-Forex: AGI Transition - Phase 2 Critical Fixes

## Mission: Restore $8K/day â†’ Currently $30/day

### Legend
- `[ ]` Not started
- `[/]` In progress
- `[x]` Completed

---

## Phase 1: Analysis (COMPLETED âœ…)
> Completed in previous session - 17 analysis documents created

- [x] Map project structures (Legacy: 52 files, New: 300+)
- [x] Analyze core modules (consensus, scalper_swarm, etc.)
- [x] Audit 88 swarm agents
- [x] Identify 3 critical bugs

---

## Phase 2: Critical Fixes (CURRENT ðŸ”´)
> Goal: Fix the 3 bugs causing 99% of performance loss

### 2.1 Signal Inversion Bug
- [/] **FIX #1:** Remove `S = -S` from [analysis/scalper_swarm.py](file:///D:/Atl4s-Forex/analysis/scalper_swarm.py) line 142
  - Cause: ALL signals are inverted (BUYâ†’SELL, SELLâ†’BUY)
  - Impact: **CRITICAL** - This alone may explain most losses

### 2.2 Gate 3 Hard Block
- [ ] **FIX #2:** Convert hard WAIT to penalty in [core/swarm_orchestrator.py](file:///D:/Atl4s-Forex/core/swarm_orchestrator.py) line 454
  - Current: `return ("WAIT", 0.0, {...})` on Fractal/Liquidity conflict
  - Fix: `penalty_score += 15` instead of hard block

### 2.3 Holographic Thresholds
- [ ] **FIX #3:** Lower thresholds in [analysis/consensus.py](file:///D:/Atl4s-Forex/analysis/consensus.py) lines 775-832
  - Current: 50/40/60 too strict
  - Fix: Relax to 30/25/40

---

## Phase 3: Validation & Backtest
> After fixes, run backtest to verify improvement

- [ ] Run `quick_backtest.py --days 30`
- [ ] Verify Win Rate â‰¥ 70%
- [ ] Verify Trades/Day: 5-10
- [ ] Compare with legacy results

---

## Phase 4: Legacy Code Integration
> Bring back working code from legacy that was lost

- [ ] Compare [src/macro_math.py](file:///D:/Atl4s-Forex/src/macro_math.py) (Legacy vs New)
- [ ] Check [src/quantum_math.py](file:///D:/Atl4s-Forex/src/quantum_math.py) integration
- [ ] Verify [trade_manager.py](file:///D:/Atl4s-Forex/analysis/trade_manager.py) position management
- [ ] Audit missing Eye implementations

---

## Session Progress

### Current Session:
1. [x] Loaded previous analysis (17 documents)
2. [x] Verified 3 critical bugs still present in code
3. [/] Creating Phase 2 Implementation Plan
4. [ ] User approval for fixes
5. [ ] Execute fixes
6. [ ] Run validation backtest
